<html>
    <head>
        <title>JIRA</title>
        <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Oswald" />
        <link rel="stylesheet" type="text/css" href="[[JARVIS.address]]/content/css/jira.css">
    </head>
    <body>
        <div id="jira-task-widget">
            <div id="widget-title">TODO LIST</div>
            <div id="jira-task-widget-data"></div>
        </div>
        <script type="application/javascript" src="[[JARVIS.address]]/content/js/jarvis.js" /></script>
        <script type="application/javascript">
            var responseHandler = function(response){

                var content = "";
                for(var item in response)
                {
                    var ID = response[item].ID;
                    var Description = response[item].Description;
                    var Type = response[item].Type

                     // Default to Task
                    var icon = "<img src=\"content/img/jira-task.svg\" />"
                    if ( Type == "Bug" ) {
                        icon = "<img src=\"content/img/jira-bug.svg\" />";
                    } else if (Type  == "New Feature" ) {
                        icon = "<img src=\"content/img/jira-feature.svg\" />";
                    } else if (Type == "Improvement" ) {
                        icon = "<img src=\"content/img/jira-improvement.svg\" />";
                    } else if (Type == "Sub-Task" ) {
                        icon = "<img src=\"content/img/jira-subtask.svg\" />";
                    } else if (Type == "Epic" ) {
                        icon = "<img src=\"content/img/jira-epic.svg\" />"
                    } 

                    content = content + "<p>" + icon + Description + "</p>"
                }
                document.getElementById("jira-task-widget-data").innerHTML = content;
            };
            getJSON("[[JARVIS.address]]/data/jira.json", responseHandler, 30);
        </script>
    </body>
</html>